{{ 'footer.css' | asset_url | stylesheet_tag }}

<footer class="footer">
  <div class="footer__container">
    <div class="footer__section" data-footer-accordion>
      <h4 class="footer__title">
        {{ 'footer.resources.title' | t }}
        <span class="footer__chevron" aria-hidden="true"></span>
      </h4>
      <ul class="footer__links">
        <li><a href="#" class="footer__link">{{ 'footer.resources.find_store' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.resources.journal' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.resources.become_member' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.resources.feedback' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.resources.promo_codes' | t }}</a></li>
      </ul>
    </div>

    <div class="footer__section" data-footer-accordion>
      <h4 class="footer__title">
        {{ 'footer.help.title' | t }}
        <span class="footer__chevron" aria-hidden="true"></span>
      </h4>
      <ul class="footer__links">
        <li><a href="#" class="footer__link">{{ 'footer.help.get_help' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.help.order_status' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.help.shipping' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.help.returns' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.help.payment' | t }}</a></li>
      </ul>
    </div>

    <div class="footer__section" data-footer-accordion>
      <h4 class="footer__title">
        {{ 'footer.company.title' | t }}
        <span class="footer__chevron" aria-hidden="true"></span>
      </h4>
      <ul class="footer__links">
        <li><a href="#" class="footer__link">{{ 'footer.company.about' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.company.news' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.company.careers' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.company.investors' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.company.sustainability' | t }}</a></li>
      </ul>
    </div>

    <div class="footer__section" data-footer-accordion>
      <h4 class="footer__title">
        {{ 'footer.menu.title' | t }}
        <span class="footer__chevron" aria-hidden="true"></span>
      </h4>
      <ul class="footer__links">
        <li><a href="#" class="footer__link">{{ 'footer.menu.new_featured' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.menu.men' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.menu.women' | t }}</a></li>
        <li><a href="#" class="footer__link">{{ 'footer.menu.kids' | t }}</a></li>
      </ul>
    </div>
  </div>
  <div class="footer__last-section">
    <p class="footer__copyright">{{ 'footer.legal.copyright' | t }}</p>
    <a href="#" class="footer__link">{{ 'footer.legal.terms' | t }}</a>
    <a href="#" class="footer__link">{{ 'footer.legal.privacy' | t }}</a>
    <a href="#" class="footer__link">{{ 'footer.legal.cookie_settings' | t }}</a>
  </div>
</footer>

<script>
  const initFooter = () => {
    const footerSections = document.querySelectorAll('[data-footer-accordion]');

    function handleAccordion() {
      const isAccordion = window.innerWidth <= 1280;

      footerSections.forEach((section) => {
        const title = section.querySelector('.footer__title');
        if (!title) return;

        title.onclick = null;

        if (isAccordion) {
          title.style.cursor = 'pointer';
          title.setAttribute('role', 'button');
          title.setAttribute('tabindex', '0');
          title.setAttribute('aria-expanded', section.classList.contains('active') ? 'true' : 'false');

          const toggleAccordion = () => {
            section.classList.toggle('active');
            title.setAttribute('aria-expanded', section.classList.contains('active') ? 'true' : 'false');
          };

          title.onclick = toggleAccordion;
          title.onkeydown = (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              toggleAccordion();
            }
          };
        } else {
          title.style.cursor = 'default';
          title.removeAttribute('role');
          title.removeAttribute('tabindex');
          title.removeAttribute('aria-expanded');
          title.onkeydown = null;
          section.classList.remove('active');
        }
      });
    }

    handleAccordion();
    window.addEventListener('resize', handleAccordion);
  };

  initFooter();
</script>

{% schema %}
{
  "name": "Footer",
  "settings": []
}
{% endschema %}
